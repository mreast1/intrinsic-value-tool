export default async function handler(req, res) { const { symbol } = req.query; if (!symbol) { return res.status(400).json({ error: "Symbol required" }); } try { const response = await fetch( `https://query1.finance.yahoo.com/v10/finance/quoteSummary/${symbol}.NS?modules=defaultKeyStatisticsâ€¦ ); const data = await response.json(); const price = data.quoteSummary.result[0].price.regularMarketPrice.raw; const eps = data.quoteSummary.result[0].defaultKeyStatistics.trailingEps.raw; res.setHeader("Access-Control-Allow-Origin", "*"); res.status(200).json({ price, eps }); } catch (err) { res.status(500).json({ error: "Failed to fetch data" }); } }
